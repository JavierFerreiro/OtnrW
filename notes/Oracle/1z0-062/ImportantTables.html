<h1>Important Tables and useful  queries</h1>

<h2>Important Tables</h2>
<table class="table table-striped table-hover table-condensed">
<thead>
<tr><td>Name</td><td>Meaning</td></tr>
</thead>
<tbody>
<tr><td colspan="2" style="text-align:center;font-weight:bold;">User tables</td></tr>
<tr><td>user_objects</td><td>show the objects (tables, views, package, procedures, functions...) of the user</td></tr>
<tr><td>user_errors</td><td>show the errors of pl/sql compilation</td></tr>
<tr><td>user_source</td><td>show the source code of a plsql</td></tr>
<tr><td>trigger_source</td><td>show the source code of a trigger</td></tr>
<tr><td>user_tab_privs_made</td><td>list privileges granted to other users or roles</td></tr>
<tr><td>dba_tables</td>Show all the tables of the db<td>l</td></tr>
<tr><td>dba_segments</td>Show all the segments of the db<td>l</td></tr>
<tr><td>dba_extents</td>Show all the extents of the db<td>l</td></tr>
<tr><td>dba_temp_files</td>Show all the extents of the db<td>l</td></tr>
<tr><td>dba_data_files</td>Show all the extents of the db<td>l</td></tr>
<tr><td>dba_thresholds</td>Show the thresholds for launch the alerts<td>l</td></tr>
<tr><td>dba_resumable</td>Show the sessions suspended by (for example) space resumable action (no space)<td>l</td></tr>
<tr><td>dba_ts_quotas</td>Show the user quotas on the differents tablespaces<td>l</td></tr>
<tr><td>dba_role_privs</td><td>show the grantee granted_role grantor, etc. of the system privileges.</td></tr>
<tr><td>dba_rollback_segments</td><td>show the undo segments that joined with V$SESSION and V$TRANSACTION shows the undo segments for transactions.</td></tr>
<tr><td>database_properties</td>Show properties of the database for example default tablespace, temporary tablespace...<td>l</td></tr>
<tr><td colspan="2" style="text-align:center;font-weight:bold;">Dynamic Views</td></tr>
<tr><td>V$TIMEZONE_NAMES</td><td>list time zone abbreviattions that Oracle support</td></tr>
<tr><td>V$tablespace</td><td></td></tr>
<tr><td>V$datafile</td><td>List all the datafiles</td></tr>
<tr><td>V$controlfile</td><td>List all the controlflie</td></tr>
<tr><td>V$logfile</td><td>List all the logfile/td></tr>
<tr><td>V$log</td><td>Explain the status of the log: Active log file, if archived...</td></tr>
<tr><td>V$tempfile</td><td>Describe the temporal files of the database</td></tr>
<tr><td>V$PWFILE_USERS</td><td>show the users with SYSDBA or SYSOPER role</td></tr>
<tr><td>V$ROLLSTAT</td><td>Gives information on the size of the segments.</td></tr>
<tr><td>V$UNDOSTAT</td><td>Gives information of the undo.</td></tr>

</tbody>
</table>


<h2>Useful Queries</h2>
<table class="table table-striped table-hover table-condensed">
<thead>
<tr><td>Query</td><td>Meaning</td></tr>
</thead>
<tbody>
<tr><td colspan="2" style="text-align:center;font-weight:bold;">Structure of DB</td></tr>
<tr><td>select instance_name,status from v$instance;</td><td></td></tr>
<tr><td>select name,open_mode from v$database;</td><td></td></tr>
<tr><td>select name from v$datafiles;</td><td></td></tr>
<tr><td>select * from v$controfile;</td><td></td></tr>
<tr><td>select member from v$logfile;</td><td></td></tr>
<tr><td colspan="2" style="text-align:center;font-weight:bold;">How tho know if Oracle DB server is single instance or distributed</td></tr>
<tr><td>select parallel from v$instance;</td><td>RAC?</td></tr>
<tr><td>select protection_level from v$database;</td><td></td>Data Guard?</tr>
<tr><td>select * from dba_streams_administrator;</td><td></td>Streams?</tr>
<tr><td>show sga</td><td></td></tr>
<tr><td>select component, current_size, min_size , max_size from v$sga_dynamic_components;</td><td></td></tr>
<tr><td>SELECT name,value FROM v$pgastat WHERE name in ('maximum PGA allocated','total PGA allocated')</td><td></td></tr>
<tr><td>SELECT name,description from v$bgprocess where paddr&lt;&gt;'00' order by name;<> </td><td></td></tr>
<tr><td>select instance_number,instance_name,host_name,version,status,parallel,archiver from v$instance;<br>
				select name,platform_name from v$database;<br>
				select * from v$tablespace;<br>
				select file#,name,status from v$datafile;<br>
				select status,name,block_size from v$controlfile;<br>
				select * from v$logfile;<br>
				select * from v$tempfile;<br>
</td><td>Document a system</td></tr>
<tr><td>select dbms_xdb.gethttpport from dual;</td><td>Obtain the port of express database.</td></tr>
<tr><td>select dbms_xdb.sethttpport(5500);</td><td>Set the port of express database.</td></tr>
<tr><td>select name,value from v$parameter order by name;</td><td>Check the current values of the parameters of the instance.</td></tr>
<tr><td>select name,value from v$spparameter order by name;</td><td>Check the values of the parameters in the spfile.</td></tr>
<tr><td>select name,value from v$parameter where isbasic='TRUE' order by name;</td><td>show the parameters and values</td></tr>
<tr><td>select member,bytes from v$logfile join v$log using (group#)</td><td>Obtain the port of express database.</td></tr>
<tr><td>select t.name,d.name,d.bytes from v$tablespace t join v$datafile d using (ts#)</td><td>Look at the tablespaces and his datafiles associated</td></tr>
</td><td>Alter a system</td></tr>
<tr><td>alter system set &lt;parameter&gt;=&lt;value&gt; [scope={memory|spfile|both}]</td><td>Change the value of the parameter for the instance,spfile or both</td></tr>
<tr><td>alter system reset &lt;parameter&gt;</td><td>Delete the parameter from spfile.</td></tr>
<tr><td>Create and manipulate tablespaces:<br>
				create tablespace prova
				datafile '/u02/oradata/cc/prova001.dbf' size 100m
				extent management local autoallocate
				segment space management auto;
				create table newtab(c1 date) tablespace prova;
				select extent_id, bytes from dba_extents where owner='SYS' and segment_name='NEWTAB';
				alter tablespace prova offline;
				alter table newtab allocate extent;
				alter tablespace prova read only;
				alter tablespace prova read write;
				drop tablespace prova including contents and datafiles;
				alter tablespace oldname rename to newname;
		</td>
		<td></td>
</tr>
<tr>
	<td>Select object_name, warning_operator,warning_value, critical_operator,critical_value 
		 from dba_thresholds 
		where metrics_name='Tablespace Space Usage'
	</td>
	<td>Show the thresholds for tablespace usage</td>
</tr>
<tr>
	<td>SELECT rtime, name, tablespace_usedsize
			FROM v$tablespace v join dba_hist_tbspc_space_usage d on (v.ts#=d.tablespace_id)
			ORDER BY name,rtime desc
	</td>
	<td></td>
</tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>

</tbody>
</table>











<h2>Useful parameters</h2>
<table class="table table-striped table-hover table-condensed">
<thead>
<tr><td>Parameter</td><td>Meaning</td></tr>
</thead>
<tbody>
<tr><td>undo_management</td><td>if Auto means that </td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>
<tr><td></td><td></td></tr>

</tbody>
</table>
